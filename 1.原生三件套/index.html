<html>
  <head>
    <meta charset="utf-8" />
    <title>节流防抖</title>
    <style type="text/css"></style>
  </head>

  <body>
    <div id="app">
      <h1>JS 节流防抖Demo</h1>
      <div style="height: 15000px"></div>
    </div>
    <script type="text/javascript">
      function debounce(fn, delay) {
        let timer = null;
        return (...args) => {
          if (timer) clearTimeout(timer);
          timer = setTimeout(() => {
            fn(...args);
            timer = null;
          }, delay);
        };
      }

      window.onscroll = debounce((e) => {
        console.log(
          "scrollTop",
          document.body.scrollTop || document.documentElement.scrollTop
        );
        console.log("e.target", e.target);
      }, 500);
    </script>
  </body>
</html>
